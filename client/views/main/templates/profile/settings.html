<template name="settings">
	{{#if currentUser}}
	<style type="text/css">
		h1, h2, h3, p {
		  margin: 0;
		  font-weight: 400;
		}

		main {
		  height: 100vh;
		  display: flex;
		  flex-flow: column wrap;
		  justify-content: center;
		  padding: 8vw;
		}

		.support {
		  position: fixed;
		  bottom: 24px;
		  color: rgba(0, 0, 0, 0.6);
		}

		.cbp-mc-form {
		  position: relative;
		}

		/* Clearfix hack by Nicolas Gallagher: http://nicolasgallagher.com/micro-clearfix-hack/ */
		.cbp-mc-form:before, 
		.cbp-mc-form:after { 
		  content: " "; display: table; 
		}

		.cbp-mc-form:after { 
		  clear: both; 
		}

		.cbp-mc-column {
		  width: 33%;
		  padding: 10px 30px;
		  float: left;
		}

		.cbp-mc-form label {
		  display: block;
		  padding: 40px 5px 5px 2px;
		  font-size: 1.1em;
		  text-transform: uppercase;
		  letter-spacing: 1px;
		  cursor: pointer;
		}

		.cbp-mc-form input,
		.cbp-mc-form textarea,
		.cbp-mc-form select {
		  font-family: 'Lato', Calibri, Arial, sans-serif;
		  line-height: 1.5;
		  font-size: 1.4em;
		  padding: 5px 10px;
		  color: #333;
		  display: block;
		  width: 100%;
		  background: transparent;
		}

		.cbp-mc-form input,
		.cbp-mc-form textarea {
		  border: 3px solid #333;
		}

		.cbp-mc-form textarea {
		  min-height: 200px;
		}

		.cbp-mc-form input:focus,
		.cbp-mc-form textarea:focus,
		.cbp-mc-form label:active + input,
		.cbp-mc-form label:active + textarea {
		  outline: none;
		  border: 3px solid #10689a;
		}

		.cbp-mc-form select:focus {
		  outline: none;
		}

		.cbp-mc-submit-wrap {
		  text-align: center;
		  padding-top: 40px;
		  clear: both;
		}

		.cbp-mc-form input.cbp-mc-submit {
		  background: #10689a;
		  border: none;
		  color: #fff;
		  width: auto;
		  cursor: pointer;
		  text-transform: uppercase;
		  display: inline-block;
		  padding: 15px 30px;
		  font-size: 1.1em;
		  border-radius: 2px;
		  letter-spacing: 1px;
		}

		.cbp-mc-form input.cbp-mc-submit:hover {
		  background: #1478b1;
		}

		.cbp-mc-submit.formated {
		  margin-top: -2cm;
		}

		.tbspace {
		  margin-top: 1cm;
		}

		@media screen and (max-width: 70em) {
		  .cbp-mc-column {
		    width: 50%;
		  }
		  .cbp-mc-column:nth-child(3) {
		    width: 100%;
		  }
		}

		@media screen and (max-width: 48em) {
		  .cbp-mc-column {
		    width: 100%;
		    padding: 10px;
		  }
		}

		.avatar {
		  position: relative;
		  overflow: hidden;
		  width: 180px;
		  height: 180px;
		  margin: auto;
		  background: #ddd;
		  -webkit-border-radius: 50%;
		  border-radius: 50%
		}

		.logo {
		  background-image: url('{{ avatar }}');
		}

		.remove_headshot {
          position: relative;
          float: left;
        }

	</style>
	<div class="container animated fadeIn">
		<form class="cbp-mc-form">
			<div class="cbp-mc-column">
				<label for="first_name">First Name</label>
				<input type="text" id="first_name" name="first_name" placeholder="{{ first_name }}">
				<label for="last_name">Last Name</label>
				<input type="text" id="last_name" name="last_name" placeholder="{{ last_name }}">
				<label for="iam">I am a:</label>
				<div class="checkbox" id="iam">
					<label class="checkbox"><input class="iam" type="checkbox" value="viewer">&nbsp;&nbsp;Viewer</label>
					<label class="checkbox"><input class="iam" type="checkbox" value="writer">&nbsp;&nbsp;Writer</label>
					<label class="checkbox"><input class="iam" type="checkbox" value="actor">&nbsp;&nbsp;Actor</label>
					<label class="checkbox"><input class="iam" type="checkbox" value="director">&nbsp;&nbsp;Director</label>
					<label class="checkbox"><input class="iam" type="checkbox" value="producer">&nbsp;&nbsp;Producer</label>
					<label class="checkbox"><input class="iam" type="checkbox" value="cinematographer">&nbsp;&nbsp;Cinematographer</label>
				</div>
			</div>
			<div class="cbp-mc-column">
				<label for="interests">Interests</label>
				<div class="checkbox" id="interests">
					<label class="checkbox"><input class="interests" type="checkbox" value="short films">&nbsp;&nbsp;Short Films</label>
					<label class="checkbox"><input class="interests" type="checkbox" value="sketches">&nbsp;&nbsp;Sketches</label>
					<label class="checkbox"><input class="interests" type="checkbox" value="feature films">&nbsp;&nbsp;Feature Films</label>
					<label class="checkbox"><input class="interests" type="checkbox" value="series">&nbsp;&nbsp;Series</label>
					<label class="checkbox"><input class="interests" type="checkbox" value="drama">&nbsp;&nbsp;Drama</label>
					<label class="checkbox"><input class="interests" type="checkbox" value="comedy">&nbsp;&nbsp;Comedy</label>
					<label class="checkbox"><input class="interests" type="checkbox" value="action/adventure">&nbsp;&nbsp;Action/Adventure</label>
					<label class="checkbox"><input class="interests" type="checkbox" value="sci-fi/fantasy">&nbsp;&nbsp;Sci-Fi/Fantasy</label>
				</div>
				<label for="website">Website</label>
				<input type="text" id="website" name="website" placeholder="http://yoursite">
			</div>
			<div class="cbp-mc-column">
				<label for="avatar_file">Update avatar</label>
				<div class="logo" id="mypic"></div> 
				<label class="custom-file">
				  <input type="file" id="avatar_file">
				</label>
				<label for="bio">About me:</label>
				<textarea id="bio" name="bio" placeholder="describe yourself and experiences"></textarea>
			</div>

			<!-- UNO -->
			<hr>
			<label for="works_url">Examples of works online:</label>
			<div class="cbp-mc-submit-wrap" style="text-align:left"><input class="cbp-mc-submit formated" type="submit" value="Add Online Work" id="works_url_submit" /></div>
			<!-- tables -->
			{{ #if worksExamples }}
				<div class="container tbspace">        
				  <h2>URLs:</h2>
				  <p style="font-size: smaller;">Headshots, writing samples, samples, etc.</p>  
				  <p>The following are your link listed works and articles that are hosted online and available online with a specific URL:</p> 
				  <table class="table table-striped">
				    <thead>
				      <tr>
				        <th>URL</th>
				        <th>Description</th>
				        <th>Date</th>
				        <th></th>
				      </tr>
				    </thead>
				    <tbody>
				      {{#each worksList}}
					      <tr>
					        <td>{{ this.url }}</td>
					        <td>{{ this.description }}</td>
					        <td>{{ this.date }}</td>
					        <td><input class="deleteWorksRow" type="button" value="Delete Row" id="{{ this.id }}"></td>
					      </tr>
				      {{/each}}
				    </tbody>
				  </table>
				</div>
			{{/if}}
			<hr>

			<!-- DOS -->
			<label for="headshots">Upload files:</label>
			<style type="text/css">
				* {
				  box-sizing: border-box;
				}

				.zoot::-webkit-input-placeholder {
				   color: white;
				}

				.zoot:-moz-placeholder { /* Firefox 18- */
				   color: white;  
				}

				.zoot::-moz-placeholder {  /* Firefox 19+ */
				   color: white;  
				}

				.zoot:-ms-input-placeholder {  
				   color: white;  
				}

				html {
				  font-family: sans-serif;
				  size-adjust: 100%;
				  -webkit-text-size-adjust: 100%;
				}

				body {
				  margin: 0;
				  color: #525147;
				  background-color: #efefef;
				}

				figure {
				  margin: 0;
				}

				h3 {
				  margin: 5px 0;
				  font-size: 16px;
				}

				.image-list {
				  width: calc(100% - 40px);
				  max-width: 1200px;
				  margin: auto;
				  padding: 10px;
				  background-color: #fff;
				  border-top: 1px solid #efefef;
				  position: relative;
				}
				.image-list:first-of-type {
				  border-top: none;
				}
				.image-list:before {
				  content: attr(data-progress);
				  position: absolute;
				  top: 0;
				  left: 0;
				  width: attr(data-progress);
				  height: 4px;
				  background-color: #2196f3;
				}

				.progress {
				  width: 100%;
				  height: 5px;
				  background-color: #efefef;
				}
				.progress .progres-fill {
				  display: block;
				  width: 10%;
				  height: 100%;
				  background-color: #2196f3;
				}

				.media {
				  display: flex;
				}

				.media-figure {
				  width: 100px;
				}
				.media-figure img {
				  width: 100%;
				}

				.media-body {
				  flex: 1;
				  padding: 0 20px;
				}

				.tags {
				  margin-top: 10px;
				  display: flex;
				  flex-wrap: wrap;
				}
				.tags.focused {
				  border-bottom: 1px solid #2196f3;
				}
				.tags > p {
				  margin: 0;
				  align-self: center;
				}
				.tags span {
				  padding: 2px 5px;
				  border: 1px solid #2196f3;
				  margin-right: 5px;
				  margin-bottom: 5px;
				  margin: 3px 5px;
				  color: #2196f3;
				  cursor: pointer;
				}
				.tags span span {
				  padding: 2px;
				  font-weight: bold;
				  font-family: sans-serif;
				}

				.select_tag.active {
					background-color: #2196f3;
					color: #fff
				}
			</style>
			<label class="cbp-mc-submit-wrap">
			  <div class="cbp-mc-submit-wrap" style="text-align:left">
			  	{{ > uploadForm }}
			  	<br><br>
			  	<input class="cbp-mc-submit formated zoot" type="text" placeholder="Name or title" id="headshots_name" />
			  	<input class="cbp-mc-submit formated zoot" type="text" placeholder="Description of file" id="headshots_description" />
			  	<input class="cbp-mc-submit formated" type="date" id="headshots_date" />
			  	<p style="font-size:smaller;"><i>date is used to sort files from newest to oldest</i></p>
			  	<div class="tags">
					<p><b>Tags:</b></p>
					<span class="select_tag" val="0">Image</span> <span class="select_tag" val="0">Video</span> <span class="select_tag" val="0">Audio</span><span class="select_tag" val="0">Text</span> <span class="select_tag" val="0">PDF</span> <span class="select_tag" val="0">Script</span> <span class="select_tag" val="0">Animation</span> <span class="select_tag" val="0">Score</span> <span class="select_tag" val="0">Headshots</span> <span class="select_tag" val="0">Location</span> <span class="select_tag" val="0">Acting</span> <span class="select_tag" val="0">Writing</span><span class="select_tag" val="0">Photography</span> <span class="select_tag" val="0">Video</span> <span class="select_tag" val="0">Special FX</span> <span class="select_tag" val="0">Screenplay</span> <span class="select_tag" val="0">Demonstration</span> <span class="select_tag" val="0">Dance</span> <span class="select_tag" val="0">Acting</span> <span class="select_tag" val="0">Performance</span> <span class="select_tag" val="0">Audience</span> <span class="select_tag" val="0">Location</span> <span class="select_tag" val="0">Other</span>
				</div>
				<p style="font-size:smaller;"><i>Meaningful tags help match you to projects.</i></p>
				<br><br>
				<input class="cbp-mc-submit formated" type="submit" value="Add file" id="headshots_submit" />
			  </div>
			</label>
			<!-- tables -->
			{{ #if headfiles }}
				<br>
				<h2>Personal Works</h2>
				<p style="font-size: smaller;">Headshots, writing samples, samples, etc.</p>
				<p>The following are your uploaded works:</p>
				
				{{ #each headshots }}
					<section class="image-list">
						<div class="media">
							<figure class="media-figure">
								<img src="{{ this.url }}">
							</figure>
							<a class="remove_headshot" href="#"><i class="glyphicon glyphicon-trash"></i></a>
							<div class="media-body">
								<h3>Date: {{this.date }}</h3>
								<h4>Name: {{ this.name }}</h4>
								<h6>"{{ this.type }}"</h6>
								{{ #if this.tags }}
									<div class="tags">
										<p><b>Tags:</b></p>
										{{ #each this.tags }}
											<span>{{ this }}</span>
										{{ /each }}
									</div>
								{{ /if }}
							</div>
						</div>
					</section>
				{{ /each }}
			{{ /if }}
			<hr>

			<!-- TRES -->
			<label for="resources">Your resources:</label>
			<select id="object_category" name="resources">
				<option>Choose a category</option>
				<option>Camera gear</option>
				<option>Lighting gear</option>
				<option>Sound gear</option>
				<option>Post production gear</option>
				<option>Location</option>
				<option>Other</option>
			</select>
			<input type="text" id="resource_details" name="resources" placeholder="Resource details" style="position: relative;width: 100%;">
			<div class="cbp-mc-submit-wrap" style="text-align:left"><input class="cbp-mc-submit formated" type="submit" value="Add Resource" id="resource_submit" /></div>
			<!-- tables -->
			{{ #if resources }}
				<div class="container tbspace">        
				  <h2>Resources:</h2>
				  <p>The following are the resources you marked as having:</p> 
				  <table class="table table-striped">
				    <thead>
				      <tr>
				        <th>Resource</th>
				        <th>Details</th>
				        <th></th>
				      </tr>
				    </thead>
				    <tbody>
				      {{#each resourceList}}
					      <tr>
					        <td>{{ this.resource }}</td>
					        <td>{{ this.details }}</td>
					        <td><input class="deleteResourceRow" type="button" value="Delete Row" id="{{ this.id }}"></td>
					      </tr>
				      {{/each}}
				    </tbody>
				  </table>
				</div>
			{{/if}}
			<hr>


			<!-- QUATRO -->
			<label for="social_media">Social media links:</label>
			<input type="text" id="social_media" name="social_media" placeholder="Copy &amp; Paste Link (should include http://)" style="position: relative;width: 100%;">
			<div class="cbp-mc-submit-wrap" style="text-align:left"><input class="cbp-mc-submit formated" type="submit" value="Add Link" id="social_media_submit" /></div>
			<!-- tables -->
			{{ #if socialLinks }}
				<div class="container tbspace">
				  <h2>Social Media:</h2>
				  <p>The following are your social media links:</p> 
				  <table class="table table-striped">
				    <thead>
				      <tr>
				        <th>Link</th>
				        <th></th>
				      </tr>
				    </thead>
				    <tbody>
				      {{#each socialLinksList}}
					      <tr>
					        <td>{{ this.url }}</td>
					        <td><input class="deleteSocialRow" type="button" value="Delete Row" id="{{ this.id }}"></td>
					      </tr>
				      {{/each}}
				    </tbody>
				  </table>
				</div>
			{{/if}}
			<hr>


			<!-- SUBMIT -->
			<div class="cbp-mc-submit-wrap"><input class="cbp-mc-submit" id="update" type="submit" value="Update your profile" /></div>
		</form>
		
	</div>
	{{/if}}
</template>

<template name="uploadForm">
	<div class="cbp-mc-submit formated">
	  {{#with currentUpload}}
	    Uploading <b>{{file.name}}</b>:
	    <span id="progress">{{progress.get}}%</span>
	  {{else}}
	    <input id="fileInput" type="file" />
	  {{/with}}
	</div>
</template>